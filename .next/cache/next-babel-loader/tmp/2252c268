{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport Link from 'next/link';\nimport Pagination from 'react-js-pagination';\nimport RoomItem from './room/RoomItem';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { clearErrors } from '../redux/actions/roomActions';\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const {\n    rooms,\n    resPerPage,\n    roomsCount,\n    filteredRoomsCount,\n    error\n  } = useSelector(state => state.allRooms);\n  let {\n    location,\n    page = 1\n  } = router.query;\n  page = Number(page);\n  useEffect(() => {\n    toast.error(error);\n    dispatch(clearErrors());\n  }, []);\n\n  const handlePagination = pageNumber => {\n    router.push(`/?page=${pageNumber}`); // window.location.href = `/?page=${pageNumber}`\n  };\n\n  let count = roomsCount;\n\n  if (location) {\n    count = filteredRoomsCount;\n  }\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"section\", {\n      id: \"rooms\",\n      className: \"container mt-5\",\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: \"mb-3 ml-2 stays-heading\",\n        children: location ? `Rooms in ${location}` : 'All Rooms'\n      }), /*#__PURE__*/_jsx(Link, {\n        href: \"/search\",\n        children: /*#__PURE__*/_jsxs(\"a\", {\n          className: \"ml-2 back-to-search\",\n          children: [/*#__PURE__*/_jsx(\"i\", {\n            className: \"fa fa-arrow-left\"\n          }), \" Back to Search\"]\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: rooms && rooms.length === 0 ? /*#__PURE__*/_jsx(\"div\", {\n          className: \"alert alert-danger mt-5 w-100\",\n          children: /*#__PURE__*/_jsx(\"b\", {\n            children: \"No Rooms.\"\n          })\n        }) : rooms && rooms.map(room => /*#__PURE__*/_jsx(RoomItem, {\n          room: room\n        }, room._id))\n      })]\n    }), resPerPage < count && /*#__PURE__*/_jsx(\"div\", {\n      className: \"d-flex justify-content-center mt-5\",\n      children: /*#__PURE__*/_jsx(Pagination, {\n        activePage: page,\n        itemsCountPerPage: resPerPage,\n        totalItemsCount: roomsCount,\n        onChange: handlePagination,\n        nextPageText: 'Next',\n        prevPageText: 'Prev',\n        firstPageText: 'First',\n        lastPageText: 'Last',\n        itemClass: \"page-item\",\n        linkClass: \"page-link\"\n      })\n    })]\n  });\n};\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}