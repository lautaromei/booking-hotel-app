{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport React, { useEffect } from 'react';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { clearErrors } from '../../redux/actions/bookingActions';\n\nconst BookingDetails = () => {\n  const dispatch = useDispatch();\n  const {\n    booking,\n    error\n  } = useSelector(state => state.bookingDetails);\n  const {\n    user\n  } = useSelector(state => state.loadedUser);\n  useEffect(() => {\n    if (error) {\n      toast.error(error);\n      dispatch(clearErrors());\n    }\n  }, [dispatch, booking]);\n  const isPaid = booking.paymentInfo && booking.paymentInfo.status === 'paid' ? true : false;\n  console.log(booking);\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsx(\"div\", {\n      className: \"row d-flex justify-content-between\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-12 col-lg-8 mt-5 booking-details\",\n        children: booking && booking.room && booking.user && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(\"h2\", {\n            className: \"my-5\",\n            children: [\"Booking # \", booking._id]\n          }), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"mb-4\",\n            children: \"User Info\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Name:\"\n            }), \" \", booking.user && booking.user.name]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Email:\"\n            }), \" \", booking.user && booking.user.email]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Amount:\"\n            }), \" $\", booking.amountPaid]\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"mb-4\",\n            children: \"Booking Info\"\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Check In:\"\n            }), \" \", new Date(booking.checkInDate).toLocaleString('en-US')]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Check Out:\"\n            }), \" \", new Date(booking.checkOutDate).toLocaleString('en-US')]\n          }), /*#__PURE__*/_jsxs(\"p\", {\n            children: [/*#__PURE__*/_jsx(\"b\", {\n              children: \"Days of Stay:\"\n            }), \" \", booking.daysOfStay]\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"my-4\",\n            children: \"Payment Status\"\n          }), /*#__PURE__*/_jsx(\"p\", {\n            className: isPaid ? 'greenColor' : 'redColor',\n            children: /*#__PURE__*/_jsx(\"b\", {\n              children: isPaid ? 'Paid' : 'Not Paid'\n            })\n          }), user && user.role === 'admin' && /*#__PURE__*/_jsxs(_Fragment, {\n            children: [/*#__PURE__*/_jsx(\"h4\", {\n              className: \"my-4\",\n              children: \"Stripe Payment ID\"\n            }), /*#__PURE__*/_jsx(\"p\", {\n              className: \"redColor\",\n              children: /*#__PURE__*/_jsx(\"b\", {\n                children: booking.paymentInfo.id\n              })\n            })]\n          }), /*#__PURE__*/_jsx(\"h4\", {\n            className: \"mt-5 mb-4\",\n            children: \"Booked Room:\"\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"div\", {\n            className: \"cart-item my-1\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"row my-5\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"col-4 col-lg-2\",\n                children: /*#__PURE__*/_jsx(Image, {\n                  src: booking.room.images[0].url,\n                  alt: booking.room.name,\n                  height: 45,\n                  width: 65\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-5 col-lg-5\",\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: `/room/${booking.room._id}`,\n                  children: booking.room.name\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-4 col-lg-2 mt-4 mt-lg-0\",\n                children: /*#__PURE__*/_jsxs(\"p\", {\n                  children: [\"$\", booking.room.pricePerNight]\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-4 col-lg-3 mt-4 mt-lg-0\",\n                children: /*#__PURE__*/_jsxs(\"p\", {\n                  children: [booking.daysOfStay, \" Day(s)\"]\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"hr\", {})]\n        })\n      })\n    })\n  });\n};\n\nexport default BookingDetails;","map":null,"metadata":{},"sourceType":"module"}